<pre xml:space='preserve'><span class='csharp'><span class='k'>using</span> System;
<span class='k'>using</span> Sooda;

<span class='k'>class</span> Sample2 {
    <span class='k'>static</span> <span class='k'>void</span> Main() {
        <span class='k'>using</span> (SoodaTransaction transaction = <span class='k'>new</span> SoodaTransaction()) {
            <span class='c'>// load group with primary key 10</span>
            Group g = Group.Load(10);

            <span class='c'>// check if the manager is in role </span><span class='r'>&apos;Customer&apos;</span>
            <span class='k'>if</span> (g.Manager.Roles.Contains(Role.Customer)) {
                <span class='c'>// we have a manager that is a customer</span>
                Console.WriteLine(<span class='s'>&quot;{0} is both a manager and a customer!&quot;</span>,
                                  g.Manager.Name);
            }

            <span class='c'>// create a new contact that will become a member of Group[10]</span>
            Contact newEmployee = <span class='k'>new</span> Contact();

            <span class='c'>// add necessary roles</span>
            newEmployee.Roles.Add(Role.Customer);
            newEmployee.Roles.Add(Role.Employee);

            <span class='c'>// set some required attributes</span>
            newEmployee.Name = <span class='s'>&quot;Nancy Newcomer&quot;</span>;
            newEmployee.Type = ContactType.Employee;

            <span class='c'>// add new employee as a member of the group</span>
            g.Members.Add(newEmployee);

            <span class='c'>// print some debugging information</span>
            Console.WriteLine(<span class='s'>&quot;Added {0} as a new member of {1}&quot;</span>,
                              newEmployee.Name, g.Name);

            <span class='c'>// display group members - this includes Nancy Newcomer which</span>
            <span class='c'>// has just been added</span>
            <span class='k'>foreach</span> (Contact c <span class='k'>in</span> g.Members) {
                Console.WriteLine(<span class='s'>&quot;member name: {0}&quot;</span>, c.Name);
            }

            <span class='c'>// check if the administrator is a member of the group</span>
            <span class='k'>if</span> (g.Members.Contains(Contact.Administrator)) {
                Console.WriteLine(<span class='s'>&quot;Administrator is a member of {0}&quot;</span>, g.Name);
            }

            <span class='c'>// commit changes to the database</span>
            transaction.Commit();
        }
    }
}
</span>
</pre>